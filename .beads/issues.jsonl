{"id":"events-046","title":"Add JSDoc to parallelMap and other undocumented functions","description":"dedup-cache.ts parallelMap helper (lines 374-409) and other functions missing JSDoc documentation. Add documentation for public APIs.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:43.498549-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:56:42.074967-06:00","closed_at":"2026-02-02T06:56:42.074967-06:00","close_reason":"Closed"}
{"id":"events-060","title":"Add Parquet compaction for general event stream","description":"Hourly Parquet files from EventWriterDO never compacted into larger files. Over time queries scan many small files. Add compaction job similar to CDC compaction but for events/ prefix.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:12.653751-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:55:18.465187-06:00","closed_at":"2026-02-01T16:55:18.465187-06:00","close_reason":"Closed"}
{"id":"events-0v8","title":"Schedule automated Parquet compaction","description":"Compaction functions exist (core/src/compaction.ts, cdc-compaction.ts) but no scheduled trigger. Small JSONL files accumulate indefinitely. Add cron trigger or CatalogDO alarm.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:43.259387-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.991747-06:00","closed_at":"2026-02-01T16:25:55.991747-06:00","close_reason":"Closed"}
{"id":"events-15b","title":"Handle bloom filter saturation under sustained load","description":"dedup-cache.ts bloom filter has fixed size (10000 items). Under sustained load exceeding capacity before 5-minute clear, false positive rates increase. Add dynamic sizing or adaptive clearing.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:31.997653-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:49:44.665833-06:00","closed_at":"2026-02-02T06:49:44.665833-06:00","close_reason":"Closed"}
{"id":"events-161","title":"Fix module-level buffer map memory leak","description":"src/event-writer.ts:267-285 - Module-level buffers Map stores EventBuffer instances never removed. Memory growth in long-running isolates. Implement cleanup or use WeakMap.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:25.847686-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:12:55.204735-06:00","closed_at":"2026-02-01T17:12:55.204735-06:00","close_reason":"Closed"}
{"id":"events-19k","title":"Create getting started guide","description":"No getting started guide for new users. Create step-by-step tutorial for setting up events.do with a Durable Object.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:15.222803-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:43:39.060612-06:00","closed_at":"2026-02-02T06:43:39.060612-06:00","close_reason":"Closed"}
{"id":"events-19v","title":"Add batched delivery to subscription system","description":"Each subscription delivery is individual. Implement batch delivery to same worker to reduce overhead when multiple events match same subscription.","status":"closed","priority":3,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:14.111766-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:35:46.832307-06:00","closed_at":"2026-02-02T07:35:46.832307-06:00","close_reason":"Closed"}
{"id":"events-1jc","title":"Centralize magic numbers and configuration constants","description":"Magic numbers scattered across emitter.ts:73-84 and ingest.ts:26-28 (MAX_EVENT_SIZE, MAX_BATCH_SIZE, etc). Centralize in a config module.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:41.153419-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:01:10.558875-06:00","closed_at":"2026-02-02T07:01:10.558875-06:00","close_reason":"Closed"}
{"id":"events-1t9","title":"Add strict character allowlist for event types","description":"Event types are validated as strings without character restrictions. Malicious event types could contain special characters causing issues downstream. Enforce alphanumeric, dots, underscores, hyphens only.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:43.373438-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:29:19.350261-06:00","closed_at":"2026-02-02T07:29:19.350261-06:00","close_reason":"Closed"}
{"id":"events-1th","title":"Fix module-level mutable state in tail worker","description":"src/tail-worker.ts:26-27 - Module-level eventBuffer array lost on isolate eviction. Failed flush re-queues indefinitely (line 57-58). Send events to DO immediately instead of buffering at module level.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:47.79476-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.960115-06:00","closed_at":"2026-02-01T16:25:55.960115-06:00","close_reason":"Closed"}
{"id":"events-1un","title":"Create operational runbook","description":"Document operational procedures for production deployment including troubleshooting, monitoring alerts, and incident response.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:39.774715-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:14:49.826239-06:00","closed_at":"2026-02-02T06:14:49.826239-06:00","close_reason":"Closed"}
{"id":"events-1ye","title":"Add tests for uncovered modules","description":"Add tests for: async-buffer, snapshot, sql-mapper, and other modules identified with low/no coverage.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:32.491186-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:09:14.372206-06:00","closed_at":"2026-02-02T06:09:14.372206-06:00","close_reason":"Closed"}
{"id":"events-208","title":"Add tests for query.ts builders","description":"query.ts has no dedicated tests. buildQuery, buildHistoryQuery, buildLatencyQuery, buildPITRRangeQuery are untested DuckDB SQL builders.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:00.180188-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:48:57.885988-06:00","closed_at":"2026-02-02T06:48:57.885988-06:00","close_reason":"Closed"}
{"id":"events-21m","title":"Add maximum retry limit for queue processing","description":"src/index.ts:352-437 - Queue consumer retries failed messages without limit. Could cause infinite retry loops. Implement dead-letter queue or max retry count.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:24.8594-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:10:25.829809-06:00","closed_at":"2026-02-01T17:10:25.829809-06:00","close_reason":"Closed"}
{"id":"events-24u","title":"Create typed SQL row mapper for DO classes","description":"~150 primitive casts in subscription.ts, catalog.ts, cdc-processor.ts casting SQL rows. Create generic row-mapping utility with runtime validation: getString(row, key), getNumber(row, key), etc.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:04.249381-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:56:41.078428-06:00","closed_at":"2026-02-01T16:56:41.078428-06:00","close_reason":"Closed"}
{"id":"events-28a","title":"Implement parallel CDC compaction for large datasets","description":"CDC compaction runs synchronously in cron and could timeout on large datasets. Split large compaction jobs across multiple cron invocations or implement parallel processing.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:12.86468-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:32:17.834322-06:00","closed_at":"2026-02-02T07:32:17.834322-06:00","close_reason":"Closed"}
{"id":"events-2bw","title":"Fix file: dependencies for deployment","description":"package.json has 'hyparquet-writer': 'file:../hyparquet-writer' and 'oauth.do': 'file:../oauth.do' which fail in CI or non-local environments. Either publish these packages or restructure as workspace.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:48:50.162549-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:52:17.154239-06:00","closed_at":"2026-02-01T16:52:17.154239-06:00","close_reason":"Closed"}
{"id":"events-2dm","title":"Fix null check using wrong variable in subscription stats","description":"subscription.ts:640 checks pendingRow for null but uses deliveredRow: 'const totalDelivered = pendingRow ? getNumber(deliveredRow as SqlRow, count) : 0'. Fix to check correct variable.","status":"closed","priority":3,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:50.219464-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:27:33.398488-06:00","closed_at":"2026-02-02T07:27:33.398488-06:00","close_reason":"Closed"}
{"id":"events-2lw","title":"Create missing LAKEHOUSE.md documentation","description":"LAKEHOUSE.md is referenced in getting started guide but doesn't exist. Document the lakehouse architecture, DuckDB query patterns, and R2 storage layout.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:15.054144-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:28:41.049975-06:00","closed_at":"2026-02-02T07:28:41.049975-06:00","close_reason":"Closed"}
{"id":"events-2sv","title":"Publish @dotdo/events to npm","description":"Package has files, exports, prepublishOnly configured but version is 0.1.0 and unpublished. Without this, no external consumer can use the SDK. Run npm publish after verifying package.json is correct.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:48:45.837077-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:50:24.124613-06:00","closed_at":"2026-02-01T16:50:24.124613-06:00","close_reason":"Closed"}
{"id":"events-35l","title":"Add unit tests for src/routes/*.ts","description":"Route handlers in src/routes/ have no direct unit tests and rely solely on E2E tests. Add unit tests for each route handler with mocked dependencies.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:58.670888-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:37:29.084098-06:00","closed_at":"2026-02-02T07:37:29.084098-06:00","close_reason":"Closed"}
{"id":"events-39g","title":"Remove token preview from debug callback","description":"src/index.ts:202-213 - ?debug=true on /callback leaks 50 chars of access token. No special auth required. Fix: Remove tokenPreview or restrict to non-production.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:36.930923-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.945821-06:00","closed_at":"2026-02-01T16:25:55.945821-06:00","close_reason":"Closed"}
{"id":"events-3cq","title":"Consolidate duplicate pattern matching implementations","description":"Three separate pattern matching implementations exist: subscription.ts:774-826, schema-registry.ts:969-1013, and pattern-matcher.ts. Consolidate to use the shared pattern-matcher.ts implementation to reduce duplication and bugs.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:44.951869-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:34:23.562911-06:00","closed_at":"2026-02-02T07:34:23.562911-06:00","close_reason":"Closed"}
{"id":"events-3e4","title":"Create browser analytics SDK","description":"ClientEvent types (page, track, identify) defined but no browser SDK. Create tiny \u003cscript\u003e or npm package for browser-side events. Makes events.do a Segment alternative. Target: 2KB minified.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:48:57.979408-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:54:27.371824-06:00","closed_at":"2026-02-01T16:54:27.371824-06:00","close_reason":"Closed"}
{"id":"events-3ff","title":"CDC format mismatch - writes Parquet but compaction expects JSONL","description":"core/src/cdc-processor.ts:270-285 writes Parquet via hyparquet-writer, but cdc-compaction.ts:45-60 reads JSONL via JSON.parse(). Compaction silently fails on all CDC data.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:41.506319-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:40:43.401876-06:00","closed_at":"2026-02-01T16:40:43.401876-06:00","close_reason":"Closed"}
{"id":"events-3pv","title":"Add rate limiting to /ingest endpoint","description":"Endpoint has batch size limits (1000) and event size limits (10KB) but no rate limiting per source/API key. Add rate limiting middleware to prevent abuse.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:16.425218-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:53:55.444422-06:00","closed_at":"2026-02-01T16:53:55.444422-06:00","close_reason":"Closed"}
{"id":"events-45i","title":"Add input sanitization for R2 paths","description":"Path traversal risk - R2 paths constructed from user input without validation. Attackers could potentially access files outside intended directories using ../ sequences.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:25.902609-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:11:45.964582-06:00","closed_at":"2026-02-02T06:11:45.964582-06:00","close_reason":"Closed"}
{"id":"events-4bm","title":"Shard SubscriptionDO instead of singleton","description":"src/subscription-routes.ts:38 always uses idFromName('default'). All subscriptions, deliveries, dead letters hit one DO. At scale, serialization bottleneck. Use pattern-prefix-based sharding.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:37.796321-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.990044-06:00","closed_at":"2026-02-01T16:25:55.990044-06:00","close_reason":"Closed"}
{"id":"events-4f5","title":"Create @dotdo/events-cli for scaffolding and development","description":"No CLI tool exists. Create CLI with commands like 'events init', 'events emit', 'events query' for easier development and debugging.","status":"closed","priority":3,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:23.757923-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:33:08.647352-06:00","closed_at":"2026-02-02T07:33:08.647352-06:00","close_reason":"Closed"}
{"id":"events-4j3","title":"Refactor ingest.ts into middleware chain","description":"ingest.ts is 440+ lines with validation, auth, dedup, schema, fanout mixed together. Refactor into composable middleware chain for testability.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:19.354058-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:00:20.690026-06:00","closed_at":"2026-02-02T07:00:20.690026-06:00","close_reason":"Closed"}
{"id":"events-4r3","title":"SQL injection surface in handleEventsQuery where clause","description":"src/routes/events.ts - where parameter from URL is passed to SQL without sufficient validation. The regex whitelist may not catch all injection vectors. Needs parameterized query or strict whitelist.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:47.880459-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:40:04.106057-06:00","closed_at":"2026-02-01T16:40:04.106057-06:00","close_reason":"Closed"}
{"id":"events-50m","title":"Resolve DeltaRecord name collision in exports","description":"DeltaRecord exported from cdc-delta.ts (uses pk, data, prev, bookmark) and exists in cdc-compaction.ts (uses id, doc, ts: number, seq) with incompatible shapes. applyDeltasToState consumers may get wrong type.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:33.07114-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.974358-06:00","closed_at":"2026-02-01T16:25:55.974358-06:00","close_reason":"Closed"}
{"id":"events-56v","title":"Webhook EventBuffer module-level state lost on isolate eviction","description":"src/routes/webhooks.ts - EventBuffer is module-level. Events buffered between flushes are lost if worker isolate is evicted. Should send directly to EventWriterDO like tail-worker was fixed to do.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:46.355536-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:39:22.382193-06:00","closed_at":"2026-02-01T16:39:22.382193-06:00","close_reason":"Closed"}
{"id":"events-589","title":"Add multi-tenant isolation","description":"Implement proper multi-tenant isolation for namespaces. Currently namespace isolation is partial.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:38.243695-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:21:18.877249-06:00","closed_at":"2026-02-02T06:21:18.877249-06:00","close_reason":"Closed"}
{"id":"events-5gt","title":"Implement tail worker for trace capture","description":"wrangler.jsonc declares tail_consumers but tail worker was removed. Tail workers are zero-config way to capture ALL worker traces. Re-implement src/tail-worker.ts following the pattern that sends directly to EventWriterDO.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:48:56.183314-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:50:49.600382-06:00","closed_at":"2026-02-01T16:50:49.600382-06:00","close_reason":"Closed"}
{"id":"events-5lt","title":"Add LRU eviction to pattern matcher cache","description":"pattern-matcher.ts:4 - patternCache grows unboundedly with no eviction policy. An attacker could send many unique patterns to exhaust memory. Implement LRU cache with size limit or periodic pruning.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:32.759713-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:26:56.734514-06:00","closed_at":"2026-02-02T07:26:56.734514-06:00","close_reason":"Closed"}
{"id":"events-5ps","title":"Add end-to-end encryption option for event payloads","description":"Event payloads are stored unencrypted in R2. Add option to encrypt payloads at rest for sensitive data compliance requirements.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:21.341927-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:35:03.75314-06:00","closed_at":"2026-02-02T07:35:03.75314-06:00","close_reason":"Closed"}
{"id":"events-5u0","title":"Add dedup marker cleanup via R2 lifecycle rule","description":"Dedup markers in R2 (dedup/{batchId}) have no TTL mechanism. Code notes 'Configure R2 lifecycle rule' but this is manual ops step. Add lifecycle rule config or implement cleanup in scheduled handler.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:48:52.238019-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:50:54.136813-06:00","closed_at":"2026-02-01T16:50:54.136813-06:00","close_reason":"Closed"}
{"id":"events-608","title":"Add input validation and auth flow tests for worker","description":"src/index.ts worker layer has zero test coverage. validateEvent(), validateBatch(), validateEventSize(), escapeSql() untested. Auth middleware untested. SQL query builder untested.\n\nTDD: RED: Test validateEvent with missing/invalid fields. RED: Test escapeSql with injection payloads. RED: Test /callback open redirect prevention. GREEN: Verify all pass.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:15.426307-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.995727-06:00","closed_at":"2026-02-01T16:25:55.995727-06:00","close_reason":"Closed"}
{"id":"events-6f8","title":"Expand reserved namespace list","description":"tenant.ts:112-114 reserved list may be incomplete. Add common reserved names: root, api, test, dev, prod, staging, www, mail, etc.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:48.559939-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:54:43.704865-06:00","closed_at":"2026-02-02T06:54:43.704865-06:00","close_reason":"Closed"}
{"id":"events-6gd","title":"Create API documentation site","description":"No public API documentation. Create docs site with TypeDoc or similar covering all exports from @dotdo/events.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:14.075813-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:45:45.249121-06:00","closed_at":"2026-02-02T06:45:45.249121-06:00","close_reason":"Closed"}
{"id":"events-6r3","title":"Fix SQL injection in CatalogDO buildQuery","description":"core/src/catalog.ts:465-497 - where and columns params injected directly into SQL from URL query params. Add parameterized query building or whitelist validation.\n\nTDD: RED: SQL injection payload in where/columns is rejected. GREEN: Implement validation.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:38.415957-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.948389-06:00","closed_at":"2026-02-01T16:25:55.948389-06:00","close_reason":"Closed"}
{"id":"events-6rz","title":"Add monitoring and observability integration","description":"Add Cloudflare Analytics Engine integration for metrics, logging, and observability. Critical for production operations.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:35.699389-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:16:51.608868-06:00","closed_at":"2026-02-02T06:16:51.608868-06:00","close_reason":"Closed"}
{"id":"events-6tq","title":"Fix SQL injection in catalog query builder","description":"core/src/catalog.ts:557-564 has SQL injection vulnerability in the query builder. User input is concatenated directly into SQL strings without proper parameterization.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:24.926245-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:07:29.92499-06:00","closed_at":"2026-02-02T06:07:29.92499-06:00","close_reason":"Closed"}
{"id":"events-6u7","title":"Consider sharding SchemaRegistryDO by namespace","description":"SchemaRegistryDO is a global singleton that could become a bottleneck with many validation requests. Consider namespace-based sharding for high-volume scenarios.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:11.597997-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:31:12.904321-06:00","closed_at":"2026-02-02T07:31:12.904321-06:00","close_reason":"Closed"}
{"id":"events-7ad","title":"Implement automatic cleanup for dedup markers and CDC state","description":"No automatic cleanup of dedup markers in R2 or CDC state in SQLite. Implement TTL-based cleanup via scheduled tasks or R2 lifecycle rules.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:34.603536-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:15:20.74588-06:00","closed_at":"2026-02-02T06:15:20.74588-06:00","close_reason":"Closed"}
{"id":"events-7bm","title":"Handle R2 list pagination in handleEventsQuery","description":"src/index.ts - R2.list({ prefix, limit: 200 }) never checks listed.truncated or fetches next page. Hour buckets with \u003e200 files silently drop events from query results.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:23.468626-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.966477-06:00","closed_at":"2026-02-01T16:25:55.966477-06:00","close_reason":"Closed"}
{"id":"events-7jy","title":"Fix non-constant time pattern matching in SubscriptionDO","description":"subscription.ts:767-819 matchesPattern() uses recursive calls for ** wildcard that can lead to exponential time complexity. Malicious patterns could cause slow matching.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:26.035981-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:48:31.918939-06:00","closed_at":"2026-02-02T06:48:31.918939-06:00","close_reason":"Closed"}
{"id":"events-7ow","title":"Increase test coverage threshold from 60% to 80%","description":"core/vitest.config.ts has coverage threshold at 60% which is low for critical infrastructure. Increase to 80% as coverage improves.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:02.775632-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:38:05.793666-06:00","closed_at":"2026-02-02T07:38:05.793666-06:00","close_reason":"Closed"}
{"id":"events-82f","title":"Add structured JSON logging","description":"Current logging is console-based text. Add structured JSON logging for better log aggregation and querying.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:18.329724-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:00:45.361512-06:00","closed_at":"2026-02-02T07:00:45.361512-06:00","close_reason":"Closed"}
{"id":"events-858","title":"Add network failure and partial failure test scenarios","description":"Missing tests for: partial network failures during R2 writes, DO hibernation/wake-up edge cases, memory pressure scenarios, concurrent write race conditions, clock skew in timestamp validation.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:04.608274-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:31:38.025574-06:00","closed_at":"2026-02-02T07:31:38.025574-06:00","close_reason":"Closed"}
{"id":"events-8al","title":"Fix handler tests to test actual code instead of simulated logic","description":"src/tests/handlers/*.test.ts test simulated/reimplemented logic rather than actual handler code. Tests should import and test the actual handlers from src/handlers/ instead of local function reimplementations.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:57.131977-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:30:04.801896-06:00","closed_at":"2026-02-02T07:30:04.801896-06:00","close_reason":"Closed"}
{"id":"events-8gu","title":"Type the orderBy parameter in QueryOptions","description":"core/src/query.ts:128 - orderBy interpolated into SQL without validation. Restrict to known column names or validate against whitelist rather than interpolating raw strings.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:14.944193-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:52:20.589288-06:00","closed_at":"2026-02-01T16:52:20.589288-06:00","close_reason":"Closed"}
{"id":"events-8jp","title":"Remove sensitive info from console logs","description":"ingest.ts:135,293-295 logs namespace and admin status which could be sensitive in multi-tenant environments. Remove or redact sensitive fields.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:34.507811-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:46:40.872282-06:00","closed_at":"2026-02-02T06:46:40.872282-06:00","close_reason":"Closed"}
{"id":"events-8w1","title":"Add timeout error handling for webhook HTTP fallback","description":"subscription.ts:989-1004 uses AbortSignal.timeout but error handling doesn't distinguish timeout vs other network errors. Add specific timeout error handling.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:29.391362-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:47:42.32139-06:00","closed_at":"2026-02-02T06:47:42.32139-06:00","close_reason":"Closed"}
{"id":"events-8y3","title":"Fix browser SDK silent event loss on fetch failure","description":"Browser SDK silently drops events when fetch fails. Should implement retry logic or surface errors to the caller.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:27.718306-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:09:30.232619-06:00","closed_at":"2026-02-02T06:09:30.232619-06:00","close_reason":"Closed"}
{"id":"events-929","title":"Track dropped events details in retry queue","description":"emitter.ts:281-330 only increments counter for dropped events but doesn't preserve details. Add mechanism to report/persist dropped event info for analysis.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:45.024335-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:57:07.894907-06:00","closed_at":"2026-02-02T06:57:07.894907-06:00","close_reason":"Closed"}
{"id":"events-9al","title":"Extract duplicated code: ULID, webhook buffering, corsHeaders, AsyncBuffer","description":"ULID duplicated in 3 files (src/index.ts, src/event-writer.ts, core/src/subscription.ts). Webhook buffering duplicated verbatim in src/index.ts:271-332. corsHeaders duplicated. createAsyncBuffer duplicated in 3 core files.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:30.508886-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.976557-06:00","closed_at":"2026-02-01T16:25:55.976557-06:00","close_reason":"Closed"}
{"id":"events-9gl","title":"Require authentication on /ingest by default","description":"src/routes/ingest.ts:49-54 - Ingest only checks Bearer token if AUTH_TOKEN configured. If not configured, any client can ingest. Consider requiring auth by default or log warning.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:19.118041-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:09:16.58029-06:00","closed_at":"2026-02-01T17:09:16.58029-06:00","close_reason":"Closed"}
{"id":"events-9lv","title":"Add tests for cdc-processor.ts (CDCProcessorDO)","description":"cdc-processor.ts CDCProcessorDO class has no dedicated unit tests. Add tests for process(), flush(), and state management.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:03.593033-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:49:31.090766-06:00","closed_at":"2026-02-02T06:49:31.090766-06:00","close_reason":"Closed"}
{"id":"events-9v1","title":"Fix as unknown as double casts in ingest.ts","description":"ingest.ts:242,346 uses 'as unknown as CDCEvent' suggesting type mismatch between DurableEvent and CDCEvent. Align types properly.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:11.489435-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:59:06.90192-06:00","closed_at":"2026-02-02T06:59:06.90192-06:00","close_reason":"Closed"}
{"id":"events-9vk","title":"Add schema validation for events","description":"Add optional schema validation for events at ingest time. Would improve data quality and catch issues early.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:39.034987-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:22:02.785296-06:00","closed_at":"2026-02-02T06:22:02.785296-06:00","close_reason":"Closed"}
{"id":"events-9yj","title":"EventWriterDO partial flush causes event duplication","description":"src/event-writer-do.ts:226-267 - If Parquet write succeeds but DO storage delete fails, buffer is re-persisted with already-written events. On restart, these events get written again. Need atomic flush: only delete from storage AFTER R2 write confirms.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:37.693476-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:39:33.20603-06:00","closed_at":"2026-02-01T16:39:33.20603-06:00","close_reason":"Closed"}
{"id":"events-a5e","title":"Add webhook route E2E tests","description":"Webhook ingestion routes have no E2E tests. No verification signatures are checked before processing. Add tests for valid/invalid signatures for all 6 providers.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:33.98991-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:21:05.570157-06:00","closed_at":"2026-02-01T17:21:05.570157-06:00","close_reason":"Closed"}
{"id":"events-a91","title":"Standardize error handling patterns across codebase","description":"Error handling varies: some throw, some return Response, some return {ok,error}. Create unified error taxonomy with codes and consistent handling.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:38.549218-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:53:22.751135-06:00","closed_at":"2026-02-02T06:53:22.751135-06:00","close_reason":"Closed"}
{"id":"events-ajz","title":"Add worker typecheck to CI pipeline","description":"Root package.json has typecheck script but CI only checks core/. Worker src/ needs typecheck in CI. Update .github/workflows/ci.yml to run tsc --noEmit on root as well.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:48:54.556437-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:50:15.39084-06:00","closed_at":"2026-02-01T16:50:15.39084-06:00","close_reason":"Closed"}
{"id":"events-ak3","title":"Fix implicit any types in ingest.ts","description":"src/routes/ingest.ts has 3 implicit any: line 124 (event in filter), line 183 (e in catch), line 229 (event in map). Add explicit types.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:38.014111-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:13:04.664631-06:00","closed_at":"2026-02-01T17:13:04.664631-06:00","close_reason":"Closed"}
{"id":"events-aks","title":"Fix ReDoS vulnerability in schema registry pattern validation","description":"schema-registry.ts:198-206 compiles and executes user-provided regex patterns without sanitization. A malicious user could provide a catastrophic backtracking regex (e.g., (a+)+$) causing denial-of-service. Use a regex parser that rejects dangerous patterns, set execution timeout, or use a safe regex library like re2.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:29.494474-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:30:13.342931-06:00","closed_at":"2026-02-02T07:30:13.342931-06:00","close_reason":"Closed"}
{"id":"events-b6i","title":"Cap limit parameter in handleRecent","description":"src/index.ts:760 - No upper bound on limit param. User could request limit=999999, attempting to read unbounded files. Add Math.min(limit, 1000) as done in handleEventsQuery.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:50.646575-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.971782-06:00","closed_at":"2026-02-01T16:25:55.971782-06:00","close_reason":"Closed"}
{"id":"events-b8z","title":"Authenticate tail worker endpoints","description":"src/tail-worker.ts:68-136 - /flush, /status, /stats endpoints have no authentication. /flush triggers DO write. If exposed via workers.dev, anyone can trigger flushes or inspect state.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:49.81814-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.962655-06:00","closed_at":"2026-02-01T16:25:55.962655-06:00","close_reason":"Closed"}
{"id":"events-be5","title":"Fix timing-safe comparison implementation","description":"core/src/webhooks.ts:69-89 - Custom timing-safe comparison pads strings which could leak length info. Use crypto.subtle.timingSafeEqual if available or ensure padding is constant-time.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:17.204384-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:18:24.101274-06:00","closed_at":"2026-02-01T17:18:24.101274-06:00","close_reason":"Closed"}
{"id":"events-bg4","title":"Standardize error handling - no silent catch blocks","description":"emitter.ts:436 and other locations have empty catch blocks that discard error information. Standardize error handling to always log or re-throw with context.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:46.553042-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:36:41.785427-06:00","closed_at":"2026-02-02T07:36:41.785427-06:00","close_reason":"Closed"}
{"id":"events-bkq","title":"Fix CDCProcessorDO: extend DurableObject base class","description":"core/src/cdc-processor.ts:140 - CDCProcessorDO is a plain class, not extending DurableObject. DurableObjectNamespace\u003cCDCProcessorDO\u003e requires the DO brand symbol. Breaks type-checking (src/index.ts:66).","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:00.784127-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.950968-06:00","closed_at":"2026-02-01T16:25:55.950968-06:00","close_reason":"Closed"}
{"id":"events-bx9","title":"Add rate limiting to webhook endpoints","description":"src/routes/webhooks.ts - Webhook endpoints have no rate limiting, making them susceptible to DoS. Apply checkRateLimit middleware to webhook endpoints.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:14.058905-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:18:10.608776-06:00","closed_at":"2026-02-01T17:18:10.608776-06:00","close_reason":"Closed"}
{"id":"events-bz8","title":"Add integration tests for multi-DO scenarios","description":"No tests for DO-to-DO coordination scenarios. Add integration tests for EventWriterDO-\u003eCDCProcessorDO-\u003eSubscriptionDO flows.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:07.136707-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:02:03.130485-06:00","closed_at":"2026-02-02T07:02:03.130485-06:00","close_reason":"Closed"}
{"id":"events-c9t","title":"Add runtime validation to generic JSON parsing in sql-mapper","description":"sql-mapper.ts getJson\u003cT\u003e uses unsafe 'as T' cast without runtime validation. Add optional validator function parameter: getJson\u003cT\u003e(row, key, validator?: (v: unknown) =\u003e v is T)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:08.17686-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:29:51.632754-06:00","closed_at":"2026-02-02T07:29:51.632754-06:00","close_reason":"Closed"}
{"id":"events-cbp","title":"Reduce error message detail leakage in query validation","description":"query.ts:116-119 returns detailed validation error messages that could help attackers understand validation rules. Make error messages less specific.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:37.252741-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:54:52.517557-06:00","closed_at":"2026-02-02T06:54:52.517557-06:00","close_reason":"Closed"}
{"id":"events-cdw","title":"Add noUncheckedIndexedAccess to tsconfigs","description":"Would catch potential undefined access on array index ops and Record\u003cstring, T\u003e lookups. Requires null checks in many places but prevents silent bugs. Apply to both root and core tsconfigs.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:10.271843-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:54:35.300395-06:00","closed_at":"2026-02-01T16:54:35.300395-06:00","close_reason":"Closed"}
{"id":"events-ceg","title":"Add unit tests for ShardCoordinatorDO","description":"src/shard-coordinator-do.ts has no unit tests. Dynamic sharding coordination logic needs test coverage.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:01.989142-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:32:23.764171-06:00","closed_at":"2026-02-02T07:32:23.764171-06:00","close_reason":"Closed"}
{"id":"events-cq5","title":"Create missing SUBSCRIPTIONS.md documentation","description":"SUBSCRIPTIONS.md is referenced but doesn't exist. Document subscription patterns, delivery guarantees, retry behavior, and dead letter handling.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:16.088417-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:29:13.385759-06:00","closed_at":"2026-02-02T07:29:13.385759-06:00","close_reason":"Closed"}
{"id":"events-cqw","title":"Add queue consumer tests","description":"CDC fanout and subscription delivery via queue completely untested. Risk of lost events or duplicate delivery. Add unit tests for queue handler.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:35.183785-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:11:14.394702-06:00","closed_at":"2026-02-01T17:11:14.394702-06:00","close_reason":"Closed"}
{"id":"events-d3d","title":"Add input validation for subscription patterns","description":"subscription.ts subscribe() method doesn't validate pattern string for malicious or extremely complex patterns that could cause performance issues. Add max pattern length and segment count validation.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:22.440362-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:41:53.341537-06:00","closed_at":"2026-02-02T06:41:53.341537-06:00","close_reason":"Closed"}
{"id":"events-dd4","title":"Remove unused flushing flag in browser SDK","description":"browser.ts:67 declares flushing flag but never uses it, suggesting incomplete concurrency protection. Either implement flushing lock or remove the unused flag.","status":"closed","priority":4,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:48.413718-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:27:17.59429-06:00","closed_at":"2026-02-02T07:27:17.59429-06:00","close_reason":"Closed"}
{"id":"events-dmt","title":"Split monolithic src/index.ts into separate handlers","description":"src/index.ts is 640+ lines handling routing, scheduled tasks, and queue consumption. Split into separate handler modules for maintainability.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:28.822914-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:09:51.645879-06:00","closed_at":"2026-02-02T06:09:51.645879-06:00","close_reason":"Closed"}
{"id":"events-dnu","title":"Add structured logging with correlation IDs","description":"While structured logger exists, correlation ID propagation is missing. Add request ID/correlation ID to all log entries for distributed tracing.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:20.603372-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:34:32.069132-06:00","closed_at":"2026-02-02T07:34:32.069132-06:00","close_reason":"Closed"}
{"id":"events-dxa","title":"Add E2E tests to CI pipeline","description":"E2E tests exist in e2e/ but are not run in CI. Add E2E test step to .github/workflows/ci.yml using @cloudflare/vitest-pool-workers.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:02.531048-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:41:46.872858-06:00","closed_at":"2026-02-02T06:41:46.872858-06:00","close_reason":"Closed"}
{"id":"events-eqw","title":"Fix CDCProcessorDO to use SQLite instead of in-memory state","description":"core/src/cdc-processor.ts:144 - In-memory Maps shadow SQLite tables. On DO eviction, all state lost. Remove parallel Maps, use SQLite exclusively.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:41.741419-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.954204-06:00","closed_at":"2026-02-01T16:25:55.954204-06:00","close_reason":"Closed"}
{"id":"events-ey0","title":"Add tests for snapshot.ts","description":"snapshot.ts has no dedicated tests. createSnapshot, restoreSnapshot, listSnapshots, deleteSnapshot are untested. Critical for PITR functionality.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:58.165023-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:43:49.992075-06:00","closed_at":"2026-02-02T06:43:49.992075-06:00","close_reason":"Closed"}
{"id":"events-fqk","title":"Fix benchmark-worker.ts type errors (17+)","description":"src/benchmark-worker.ts has 17+ type errors: missing @types/lz4 and @types/zstd-codec, ArrayBuffer/Uint8Array mismatches with hyparquet, property name mismatches (writeCpuMs vs writeMs).","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:46.208815-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.982391-06:00","closed_at":"2026-02-01T16:25:55.982391-06:00","close_reason":"Closed"}
{"id":"events-fsn","title":"Consider encrypting browser SDK localStorage data","description":"browser.ts:214-225 stores failed events in localStorage without encryption, making them accessible to any JS on the same origin. Consider encrypting localStorage data or using sessionStorage for sensitive data.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:39.734383-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:31:43.113623-06:00","closed_at":"2026-02-02T07:31:43.113623-06:00","close_reason":"Closed"}
{"id":"events-fv3","title":"Add runtime validation for request.json() in catalog/subscription handlers","description":"Multiple unsafe as casts on request.json() without runtime validation in catalog handlers (src/index.ts:1309,1323,1351) and subscription routes (src/subscription-routes.ts:61,87,205). Only /ingest validates properly.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:07.183277-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.968788-06:00","closed_at":"2026-02-01T16:25:55.968788-06:00","close_reason":"Closed"}
{"id":"events-fzu","title":"SQL injection risk in query.ts path pattern","description":"src/routes/query.ts:147-157 - pathPattern variable directly interpolated into SQL without escaping. If date range parameters contain malicious characters that survive validation, could lead to SQL injection.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:12.065188-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:10:23.157839-06:00","closed_at":"2026-02-01T17:10:23.157839-06:00","close_reason":"Closed"}
{"id":"events-g3i","title":"Replace empty Env interfaces with explicit types","description":"Multiple DO files have 'interface Env {}' with eslint-disable. Replace with explicit type or branded empty type.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:13.058842-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:55:07.024827-06:00","closed_at":"2026-02-02T06:55:07.024827-06:00","close_reason":"Closed"}
{"id":"events-gex","title":"Open redirect in OAuth callback","description":"src/routes/auth.ts - redirect_uri from state is used without validation. Attacker can craft OAuth state with malicious redirect_uri to steal auth codes. Validate against allowlist of known origins.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:50.264786-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:40:04.139248-06:00","closed_at":"2026-02-01T16:40:04.139248-06:00","close_reason":"Closed"}
{"id":"events-gf6","title":"Add Queue mock for queue consumer testing","description":"No mock for WorkerQueue in test infrastructure. Add createMockQueue() to mocks.ts for testing queue handlers.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:06.033765-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:57:51.479023-06:00","closed_at":"2026-02-02T06:57:51.479023-06:00","close_reason":"Closed"}
{"id":"events-gin","title":"Implement dynamic sharding for SubscriptionDO","description":"SubscriptionDO has only 4 hardcoded shards (webhook, collection, custom, default). Implement dynamic sharding based on event type cardinality to prevent hotspotting at scale.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:09.860005-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:36:48.89421-06:00","closed_at":"2026-02-02T07:36:48.89421-06:00","close_reason":"Closed"}
{"id":"events-gvy","title":"Remove index signature from CustomEvent type","description":"CustomEvent has [key: string]: unknown which structurally makes it supertype of all event types, breaking discriminated union narrowing. Move index sig to data field: { type: custom.*, data?: Record\u003cstring, unknown\u003e }","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:06.07922-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:50:45.711225-06:00","closed_at":"2026-02-01T16:50:45.711225-06:00","close_reason":"Closed"}
{"id":"events-gw4","title":"CDC path prefix mismatch breaks compaction","description":"core/src/cdc-processor.ts writes to 'cdc/{collection}/' but compaction and query expect R2 root without prefix. Parquet files written to cdc/ are never found by compaction scan or query handlers.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:39.77369-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:40:43.367713-06:00","closed_at":"2026-02-01T16:40:43.367713-06:00","close_reason":"Closed"}
{"id":"events-h0u","title":"Document multi-tenancy and namespace isolation","description":"Namespace feature for multi-tenancy is underdocumented. Add comprehensive documentation for namespace API keys, isolation guarantees, and per-tenant configuration.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:17.774339-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:28:38.952532-06:00","closed_at":"2026-02-02T07:28:38.952532-06:00","close_reason":"Closed"}
{"id":"events-hsl","title":"Fix SharedArrayBuffer type error in cdc-snapshot.ts","description":"core/src/cdc-snapshot.ts:214 - Uint8Array.buffer returns ArrayBufferLike (includes SharedArrayBuffer) but R2 put() requires ArrayBuffer. Use JSON.stringify directly or new Uint8Array().","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:03.075614-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.964302-06:00","closed_at":"2026-02-01T16:25:55.964302-06:00","close_reason":"Closed"}
{"id":"events-hu5","title":"Fix unbounded memory growth in global dedup caches","description":"dedup-cache.ts:412-444 has module-level singleton caches that persist across invocations. Under sustained high-volume traffic, memory pressure can accumulate. Add memory limits or periodic full clear.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:24.804956-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:42:50.561574-06:00","closed_at":"2026-02-02T06:42:50.561574-06:00","close_reason":"Closed"}
{"id":"events-i7j","title":"Reduce TypeScript non-null assertions","description":"Multiple non-null assertions (!) in tenant.ts:69, event-writer-do.ts:313 that could mask runtime errors. Replace with proper null checks or type guards.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:47.350947-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:00:05.680436-06:00","closed_at":"2026-02-02T07:00:05.680436-06:00","close_reason":"Closed"}
{"id":"events-igm","title":"Add alerting integration recommendations","description":"No alerting integration documented. Add section to OPERATIONS.md with recommended Cloudflare alerting rules and thresholds.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:16.187089-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:55:09.746669-06:00","closed_at":"2026-02-02T06:55:09.746669-06:00","close_reason":"Closed"}
{"id":"events-inv","title":"Fix test infrastructure for cloudflare:workers","description":"51 tests fail with 'Failed to load url cloudflare:workers'. Tests use import from cloudflare:workers which requires Miniflare/workerd. Add proper test environment setup.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:32.059114-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:19:15.980764-06:00","closed_at":"2026-02-01T17:19:15.980764-06:00","close_reason":"Closed"}
{"id":"events-jbv","title":"Fix unbounded EventEmitter retry buffer","description":"core/src/emitter.ts:94-113,223-232 - Retry queue can grow to 10,000 events. If endpoint unavailable, memory pressure in DO. Add backpressure, consider persisting retry queue to DO storage.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:15.537897-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:11:53.264973-06:00","closed_at":"2026-02-01T17:11:53.264973-06:00","close_reason":"Closed"}
{"id":"events-jm3","title":"Unify on Parquet format for all ingestion paths","description":"/ingest writes JSONL, webhooks/tail write Parquet. Dual-format doubles read complexity in handleEventsQuery. Migrate /ingest to write Parquet through EventWriterDO.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:21.02812-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.993593-06:00","closed_at":"2026-02-01T16:25:55.993593-06:00","close_reason":"Closed"}
{"id":"events-jnu","title":"Connect CDC pipeline to ingestion flow","description":"CDC processor and subscription fanout are fully implemented but disconnected from ingestion. Events land in R2 as JSONL but nothing triggers CDCProcessorDO.process() or SubscriptionDO.fanout(). Enable Queue binding and wire up consumers.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:52.412035-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.985958-06:00","closed_at":"2026-02-01T16:25:55.985958-06:00","close_reason":"Closed"}
{"id":"events-k31","title":"Add browser SDK tests","description":"core/src/browser.ts has zero test coverage. Handles user identification and event tracking. Add tests for init, page, track, identify, flush.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:36.351342-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:10:47.997382-06:00","closed_at":"2026-02-01T17:10:47.997382-06:00","close_reason":"Closed"}
{"id":"events-kcj","title":"Build admin dashboard UI","description":"No way to visualize events without API calls. Build minimal admin UI at events.do/dashboard showing recent events, webhook activity, subscription status, CDC state. Use React/Solid with existing API.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:00.025018-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T05:33:00.030066-06:00","closed_at":"2026-02-02T05:33:00.030066-06:00","close_reason":"Dashboard implemented at /dashboard with events, subscriptions, CDC/catalog, and webhook activity views"}
{"id":"events-kty","title":"Add workerId validation to prevent SSRF in subscription delivery","description":"subscription.ts:996-1011 HTTP fallback constructs URL from workerId without validation. If workerId comes from untrusted input, this could allow SSRF attacks. Validate workerId against allowlist of known workers or enforce naming pattern.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:35.965635-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:30:30.597109-06:00","closed_at":"2026-02-02T07:30:30.597109-06:00","close_reason":"Closed"}
{"id":"events-ku2","title":"Shard CatalogDO by namespace","description":"CatalogDO is singleton creating SPOF and bottleneck. Use env.CATALOG.idFromName(namespace) instead of fixed name. Requires migration strategy.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:29.139061-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:18:01.090628-06:00","closed_at":"2026-02-01T17:18:01.090628-06:00","close_reason":"Closed"}
{"id":"events-lum","title":"Fix timing attack vulnerability in bearer token comparison","description":"middleware/auth.ts:41 uses direct string comparison for auth tokens which is vulnerable to timing attacks. Use constant-time comparison like the timing-safe comparison already used in webhooks.ts.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:31.674597-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:28:10.068621-06:00","closed_at":"2026-02-02T07:28:10.068621-06:00","close_reason":"Closed"}
{"id":"events-lvo","title":"Add performance benchmarks and document results","description":"No performance benchmarks exist. Add benchmarking suite to measure events/second throughput, latency percentiles, and publish results in documentation.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:19.119227-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:33:56.406803-06:00","closed_at":"2026-02-02T07:33:56.406803-06:00","close_reason":"Closed"}
{"id":"events-lx2","title":"Add dynamic sharding for EventWriterDO","description":"EventWriterDO has fixed shards that can become bottleneck under burst. Implement auto-scaling shard count based on load.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:20.303415-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:01:14.736078-06:00","closed_at":"2026-02-02T07:01:14.736078-06:00","close_reason":"Closed"}
{"id":"events-m9e","title":"Add CI/CD pipeline with GitHub Actions","description":"No .github/ directory exists. No CI pipeline configured. Tests never run on push/PR. Need: pnpm test on push/PR, typecheck, coverage thresholds (80% for core/), E2E on staging.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:08.787413-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.984203-06:00","closed_at":"2026-02-01T16:25:55.984203-06:00","close_reason":"Closed"}
{"id":"events-n45","title":"Batch dedup checks in queue processing","description":"Currently makes N individual R2 HEAD requests per batch for deduplication. Implement batch checking using bloom filters or batched R2 operations.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:30.576259-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:16:55.23163-06:00","closed_at":"2026-02-02T06:16:55.23163-06:00","close_reason":"Closed"}
{"id":"events-n4z","title":"Audit and sanitize console logging for sensitive data","description":"Multiple files log potentially sensitive data (event-writer-do.ts:290, handlers/queue.ts:139). While structured logger exists, many files still use raw console.log. Consistently use structured logger and implement log sanitization for sensitive fields.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:38.458172-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:37:54.125101-06:00","closed_at":"2026-02-02T07:37:54.125101-06:00","close_reason":"Closed"}
{"id":"events-n6v","title":"Fix LIKE pattern SQL injection in subscription listing","description":"subscription.ts:337-371 builds SQL with LIKE pattern that could match unintended prefixes if patternPrefix contains special SQL LIKE characters (%, _). Escape special chars.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:27.923122-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:48:18.489079-06:00","closed_at":"2026-02-02T06:48:18.489079-06:00","close_reason":"Closed"}
{"id":"events-ne7","title":"Enable Queue binding for CDC/subscription fanout","description":"Queue producer/consumer commented out in wrangler.jsonc. Core to reliable event processing. Without it, only delivery guarantee is SDK alarm-based retry. Uncomment EVENTS_QUEUE binding, implement queue consumer handler.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:48:48.678655-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:52:07.221769-06:00","closed_at":"2026-02-01T16:52:07.221769-06:00","close_reason":"Closed"}
{"id":"events-nio","title":"Add deduplication/idempotency to /ingest","description":"POST /ingest writes to R2 via ctx.waitUntil. If write succeeds but response is lost, client retries create duplicates. Add client-provided batch ID and dedup check.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:55.123558-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.988161-06:00","closed_at":"2026-02-01T16:25:55.988161-06:00","close_reason":"Closed"}
{"id":"events-o0r","title":"Add exactOptionalPropertyTypes to tsconfig","description":"tsconfig.json is missing exactOptionalPropertyTypes which provides stricter optional property handling. Add if feasible without major refactoring.","status":"open","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:08.897803-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:23:08.897803-06:00"}
{"id":"events-o6f","title":"Constrain getJson\u003cT\u003e generic type parameter","description":"sql-mapper.ts getJson\u003cT\u003e has unconstrained generic. Add constraint: getJson\u003cT extends JsonValue\u003e for type safety.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:09.635389-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:55:05.658364-06:00","closed_at":"2026-02-02T06:55:05.658364-06:00","close_reason":"Closed"}
{"id":"events-ovm","title":"Restrict CORS on authenticated endpoints","description":"src/index.ts:438-453 - All responses use Access-Control-Allow-Origin: *. Any website can make cross-origin requests to authenticated endpoints. Restrict to known origins for auth endpoints.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:35.387065-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.980263-06:00","closed_at":"2026-02-01T16:25:55.980263-06:00","close_reason":"Closed"}
{"id":"events-p3d","title":"Persist EventWriterDO buffer to DO storage","description":"src/event-writer-do.ts - Buffer is in-memory only. DO eviction between ingest() and flush() loses all buffered events. Use ctx.storage.put() on ingest, ctx.storage.delete() after flush.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:54:40.039284-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.958207-06:00","closed_at":"2026-02-01T16:25:55.958207-06:00","close_reason":"Closed"}
{"id":"events-pyw","title":"Add iteration limits to recursive pattern matching","description":"subscription.ts:794-807 and schema-registry.ts:984-997 use recursive matchesPattern with ** wildcards that can cause stack overflow. MAX_PATTERN_MATCH_ITERATIONS is defined in config but not enforced. Add explicit iteration counting.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:34.574719-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:27:51.034519-06:00","closed_at":"2026-02-02T07:27:51.034519-06:00","close_reason":"Closed"}
{"id":"events-q9u","title":"Add runtime validation for webhook providers","description":"Webhook handler lacks runtime validation of provider configurations. Malformed provider configs could cause crashes or security issues.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:26.897993-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:11:14.471779-06:00","closed_at":"2026-02-02T06:11:14.471779-06:00","close_reason":"Closed"}
{"id":"events-qw0","title":"Add unit tests for EventWriterDO","description":"src/event-writer-do.ts and src/event-writer.ts have no unit tests. These are critical components for event ingestion that need test coverage.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:23:00.59365-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:29:13.546522-06:00","closed_at":"2026-02-02T07:29:13.546522-06:00","close_reason":"Closed"}
{"id":"events-rg7","title":"Subscription fanout routes to 'global' instead of per-type shards","description":"src/routes/ingest.ts:194 - fanoutToSubscribers() always uses idFromName('global') regardless of event type. The SubscriptionDO sharding (by event type prefix) was implemented but fanout bypasses it. All subscriptions hit a single DO, creating a serialization bottleneck.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:35.269957-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:38:32.356492-06:00","closed_at":"2026-02-01T16:38:32.356492-06:00","close_reason":"Closed"}
{"id":"events-rl8","title":"Add CatalogDO and SubscriptionDO tests","description":"CatalogDO (core/src/catalog.ts) and SubscriptionDO actual class (core/src/subscription.ts) have no tests. subscription.test.ts reimplements logic locally instead of testing the real DO.\n\nTDD: RED: Namespace CRUD, table creation, snapshot commits, query building. RED: Subscribe/unsubscribe/fanout via actual DO. GREEN: Verify pass.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:18.297586-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.997975-06:00","closed_at":"2026-02-01T16:25:55.997975-06:00","close_reason":"Closed"}
{"id":"events-sdi","title":"Add coverage reporting and thresholds to CI","description":"Add test coverage reporting to CI pipeline with minimum thresholds. Currently no coverage tracking in place.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:06:31.73737-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:14:05.759211-06:00","closed_at":"2026-02-02T06:14:05.759211-06:00","close_reason":"Closed"}
{"id":"events-tod","title":"Add tests for catalog.ts (CatalogDO)","description":"catalog.ts has no dedicated tests. Complex CatalogDO with namespace/table/snapshot operations and schema evolution needs comprehensive test coverage.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:57.176501-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:44:14.568154-06:00","closed_at":"2026-02-02T06:44:14.568154-06:00","close_reason":"Closed"}
{"id":"events-tyl","title":"Webhooks proceed without signature verification when secret missing","description":"src/routes/webhooks.ts - When WEBHOOK_SECRET env var is not set, webhook handlers skip signature verification entirely. Attackers can send arbitrary events. Should require secret or reject requests.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:51.737159-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:39:22.413947-06:00","closed_at":"2026-02-01T16:39:22.413947-06:00","close_reason":"Closed"}
{"id":"events-u5w","title":"Remove unused writerShardKey variable in ingest","description":"ingest.ts:289 defines writerShardKey but never uses it. Remove dead code.","status":"closed","priority":4,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:50.083982-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:54:54.070097-06:00","closed_at":"2026-02-02T06:54:54.070097-06:00","close_reason":"Closed"}
{"id":"events-va6","title":"Add worker-level unit tests for handlers","description":"src/handlers/ (fetch.ts, queue.ts, scheduled.ts) have no unit tests. Add tests with mocked DOs and R2.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:04.644736-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:00:28.770813-06:00","closed_at":"2026-02-02T07:00:28.770813-06:00","close_reason":"Closed"}
{"id":"events-vgw","title":"Fix queue vs direct fanout mutual exclusion","description":"Queue consumer and direct fanout can both run causing duplicate processing. Enforce USE_QUEUE_FANOUT flag strictly OR make all handlers idempotent.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:30.88597-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:18:27.499488-06:00","closed_at":"2026-02-01T17:18:27.499488-06:00","close_reason":"Closed"}
{"id":"events-vlm","title":"Add stricter tsconfig options","description":"Add noImplicitReturns, noFallthroughCasesInSwitch, exactOptionalPropertyTypes to tsconfig.json for better type safety.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:40:08.269783-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:55:30.607522-06:00","closed_at":"2026-02-02T06:55:30.607522-06:00","close_reason":"Closed"}
{"id":"events-vqp","title":"Deduplicate CDCEvent and CollectionManifest types","description":"Two different CDCEvent types exported (cdc-delta.ts and cdc-processor.ts). Two different CollectionManifest types (cdc-compaction.ts and cdc-processor.ts). Consolidate or use distinct names.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:07.655219-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:52:38.879464-06:00","closed_at":"2026-02-01T16:52:38.879464-06:00","close_reason":"Closed"}
{"id":"events-wcq","title":"SchemaField type error in catalog routes","description":"src/routes/catalog.ts has TypeScript errors: SchemaField type widening and missing createdAt on DataFile type. Fix types to pass strict typecheck.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:37:52.567604-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:38:53.193936-06:00","closed_at":"2026-02-01T16:38:53.193936-06:00","close_reason":"Closed"}
{"id":"events-x03","title":"Add schema evolution tracking to CatalogDO","description":"CatalogDO stores schemas but no evolution handling. When DO emits new fields, catalog should detect and track schema changes. Add schema diff and version history.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T16:49:02.315614-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:53:28.588374-06:00","closed_at":"2026-02-01T16:53:28.588374-06:00","close_reason":"Closed"}
{"id":"events-x65","title":"Add unit tests for src/middleware/*.ts","description":"Middleware modules (rate-limit.ts, auth, tenant.ts) have no unit tests. These are critical security components that need thorough testing.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:59.504756-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:36:22.30669-06:00","closed_at":"2026-02-02T07:36:22.30669-06:00","close_reason":"Closed"}
{"id":"events-xcx","title":"Fix oauth.do/rpc/itty import error","description":"src/routes/auth.ts:7 - Cannot resolve oauth.do/rpc/itty. Package doesn't export this path. Blocks build/deploy. Update import or fix oauth.do exports.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:40.060471-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:08:36.301014-06:00","closed_at":"2026-02-01T17:08:36.301014-06:00","close_reason":"Closed"}
{"id":"events-y6g","title":"Add explicit request body size limits before JSON parsing","description":"Ingest handler doesn't enforce explicit body size limits before parsing JSON. While Workers have implicit limits, explicit validation with clear error messages is better practice. Add Content-Length validation.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T07:22:41.812587-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T07:30:51.042082-06:00","closed_at":"2026-02-02T07:30:51.042082-06:00","close_reason":"Closed"}
{"id":"events-z9o","title":"Remove user data from 403 error responses","description":"src/routes/auth.ts:100-106 - Returns full user object in 403 response, leaking sensitive info. Return only necessary info (e.g., email) not full user object.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:21.04065-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:11:26.873577-06:00","closed_at":"2026-02-01T17:11:26.873577-06:00","close_reason":"Closed"}
{"id":"events-zj5","title":"Add input validation on subscription patterns","description":"src/subscription-routes.ts:103-167 - Subscription pattern accepted without validation for dangerous characters. Could cause ReDoS. Validate patterns only contain expected characters.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:22.262986-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:09:25.93085-06:00","closed_at":"2026-02-01T17:09:25.93085-06:00","close_reason":"Closed"}
{"id":"events-zmo","title":"Fix race condition in EventWriterDO atomic flush","description":"event-writer-do.ts:340-350 has a race condition window between marking events as flushed and deleting buffer. If DO is evicted between steps, inconsistency can occur.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-02T06:39:19.069659-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-02T06:43:05.425455-06:00","closed_at":"2026-02-02T06:43:05.425455-06:00","close_reason":"Closed"}
{"id":"events-zr2","title":"Add distributed lock for scheduled tasks","description":"src/index.ts:184-332 - Scheduled handler runs without distributed locking. Multiple instances during deployments could conflict. Use DO or R2 lock for coordination.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T17:07:26.963325-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T17:18:35.152365-06:00","closed_at":"2026-02-01T17:18:35.152365-06:00","close_reason":"Closed"}
{"id":"events-zx8","title":"Remove minify from core library tsup config","description":"core/tsup.config.ts:8 has minify: true. Minifying a library package makes debugging difficult for consumers. Stack traces will be mangled.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-02-01T15:55:48.147194-06:00","created_by":"Nathan Clevenger","updated_at":"2026-02-01T16:25:55.978702-06:00","closed_at":"2026-02-01T16:25:55.978702-06:00","close_reason":"Closed"}
